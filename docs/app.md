---
title: App
summary: An App is a python application that is installed on a Node in the InfraX network. It is used to execute user created Jobs and interact with the InfraX network.
author: Kyle Dougan
date: 2024-05-02
tags: [app, infraX, network]
---

An App is a python application that is installed on a Node in the InfraX network. It is used to execute user created [Jobs](job.md) and interact with the InfraX network.

## Getting Started

Apps can be tested locally on your machine before being deployed to the InfraX network. To get started with creating an App, follow these steps:

1. Create a new directory for your App on your local machine.
2. Inside the directory, create the following subdirectories:
3. Create a `main.py` file in the root of the directory. This file should contain the main logic of your App.
4. (Optional) Create a `requirements.txt` file in the root of the directory if your App has any dependencies.
5. Test your App locally by running `python main.py` in the terminal.
6. Once your App is working as expected, you can deploy it to the InfraX network by using the frontend interface.

## App Structure

When the App is run on a Node in the InfraX network, the system will place input files in the `input` directory and expect output files to be generated in the `output` directory. Any files placed in the `output` directory will be collected by the system and made available to the user.

Example `main.py` file:

```python title="main.py" linenums="1"
import os

input_files = os.listdir('input') # (1)

for file in input_files:
    with open(f'input/{file}', 'r') as f:
        data = f.read()
        # Process input data

with open('output/output.txt', 'w') as f: # (2)
    f.write('Hello InfraX!')
```

1. Read input files from the `input` directory
2. Generate output files in the `output` directory

```plaintext title="output.txt"
Hello InfraX!
```

!!! warning

    The `input` and `output` directories are created by the system when the App is run on a Node. Do __not__ create these directories yourself as they will be overwritten by the system.

### App Metadata

When creating an App, you can specify metadata that will be used by the system to display information about the App to the user. This is completely optional, but can be useful for providing additional context about the App. A good use for metadata is to provide a description of what the App does, and any additional arguments that need to be passed to the App. If an App has additional arguments (`args`) or keyword arguments (`kwargs`) that need to be passed to it, these values will be attached to the Job and can be accessed using the `sys.argv` list in the `main.py` file.

!!! note

    Apps should specify either `args` or `kwargs`, but not both. If both are specified, the system will only pass the `kwargs` to the App at runtime.

Example file with arguments:

```python title="Job"
Job(
  ...
  meta={
    'args': ['arg1', 'arg2', 'arg3'],
  }
)
```

```python title="main.py" linenums="1"
import sys

args = sys.argv[1:] # (1)

print(args)
```

1. Dont forget to skip the first argument, which is the name of the script itself.

```plaintext title="output"
['arg1', 'arg2', 'arg3']
```

!!! info

    Any `stdout` or `stderr` output generated by the App will be captured by the system and made available to the user in the Job details.

## App States

An App can be in one of the following states:

CREATED
: The App has been created by a user and is ready to be deployed to the InfraX network.

TESTING
: The App is being tested by the author to ensure it works as expected. The App is not available for users to discover. Only the author can see the App and create Jobs against the app in this state.

PUBLISHED
: The App has been published to the InfraX network and is available for users to discover and create Jobs with. _The App can no loger be edited by the author._

HIDDEN
: The App has been hidden from the InfraX network and is no longer available for users to discover. _The App can no loger be edited by the author._

ERROR
: The App has encountered an error and is no longer available for users to discover. _The App can no loger be edited by the author._

REMOVED
: The App has been removed from the InfraX network and is no longer available for users to discover. _The App can no loger be edited by the author._
